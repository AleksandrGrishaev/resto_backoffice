<!-- src/views/pos/PosMainView.vue -->
<template>
  <PosLayout>
    <!-- Tables Sidebar -->
    <template #tables>
      <TablesSidebar />
    </template>

    <!-- Menu Section -->
    <template #menu>
      <MenuSection />
    </template>

    <!-- Order Section -->
    <template #order>
      <OrderSection />
    </template>
  </PosLayout>
</template>

<script setup lang="ts">
import { onMounted } from 'vue'
import PosLayout from '@/layouts/PosLayout.vue'
import TablesSidebar from './components/TablesSidebar.vue'
import MenuSection from './components/MenuSection.vue'
import OrderSection from './components/OrderSection.vue'

// Stores
import { usePosStore } from '@/stores/pos'

const posStore = usePosStore()

// Initialize POS when component mounts
onMounted(async () => {
  console.log('üöÄ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è POS —Å–∏—Å—Ç–µ–º—ã...')

  try {
    await posStore.initializePOS()
    console.log('‚úÖ POS —Å–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ')
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ POS:', error)
  }
})
</script>
